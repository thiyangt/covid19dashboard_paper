---
title: "Interactive dashboard to monitor the COVID-19 outbreak and Vaccine Administration"
output: 
  pdf_document: 
    keep_tex: true
    number_sections: true
bibliography: references.bib
---

```{r setup, include=FALSE, message=FALSE, warning=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
library(ceylon)
library(tidyverse)
library(sf)
#install.packages("cartogram")
library(cartogram)
```


**Thiyanga S. Talagala**^[Corresponding author, email: ttalagala@gmail.com]

Department of Statistics, Faculty of Applied Sciences 

University of Sri Jayewardenepura, Sri Lanka, CO 10230

\hspace{3cm}


**Randi Shashikala**

Department of Statistics, Faculty of Applied Sciences

University of Sri Jayewardenepura, Sri Lanka, CO 10230

\hspace{3cm}

**Abstract**

As of September 20th, 2021, 221 countries and territories are infected by the COVID-19 worldwide pandemic. Dashboards are the most often used visualization method for visualizing COVID-19 data and informing the public.  We explored 15 different dashboards. 


**Keywords:** Visualization, multiple time series, heatmap, COVID-19 vaccine, flexdashboard

# Introduction

COVID-19 has expanded over the globe, having a significant impact on our daily lives and work. Early responses and timely decisions and actions are critical to saving communities and economy worldwide. Data is essential in order to make effective decisions. Data-driven information guides the decision-making process and also evaluates the effectiveness of strategies taken.

Massive amounts of data are being generated in the response to the COVID-19 pandemic. Given this available data, it is critical to create tools for exploratory analysis for policymakers, health officials, and the general public. Dashboards are one of the greatest visual interpretation methods for tracking the COVID-19 pandemic's spread and vaccine administration. Dashboards allow users to quickly interact with a combination of exploratory visualizations and gain a quick overview of the data. This paper describes the development and implementation of a dashboard for the COVID-19 outbreak and vaccine administration data in Sri Lanka.

There are a plethora of COVID-19 visualization dashboards that have been designed to visualize the pandemic's global and local status. Different software can be used to generate dashboards. We explored 15 dashboards designed to visualize COVID-19 data at the global and country levels. First, dashboards were compared to identify the various features, visualization approaches, and enhancements that should be implemented. Next, we developed an interactive dashboard to visualize the COVID-19 outbreak and vaccination information in Sri Lanka. This dashboard provides front-line health officers a situational awareness of the spread of COVID-19 and status of the vaccination program.

The rest of the paper is organized as follows: [Section 2](#litreview) of dashboards created using data related to the COVID-19 pandemic. [Section 3](#methods) presents the methodology and basic design concept; [Section 4](#results) presents the results; and [Section 5](# conclusion) concludes.

# Literature Review {#litreview}

Dashboards are one of the best visual interpretation methods for tracking the spread and communication of the COVID-19 pandemic. The 15 dashboards we used in the literature survey are listed in Table 1. We compared dashboards to identify data types, plotting techniques, colour themes, and other features such as interactivity on plots and panel numbers.


**Table 01: Labeled of the Dashboards**

|No |Name of the Dashboard|Reference|
|:--:|:-------------------|------|
|1 | COVID-19 dashboard created by the John Hopkins University Center for Systems Science & Engineering (JHU CSSE) |@jh|
|2 | WHO  COVID-19 Dashboard |@who|
|3 | COVID-19 surveillance dashboard created by the University of Virginia |@nssac|
|4 | Corona cases (COVID-19) per municipality in Belgium dashboard |@belgium|
|5 | COVID-19 dashboard for England created by NHS providers |@nhs|
|6 | NZ COVID-19 Dashboard |@nz|
|7 | Pakistan’s official COVID-19 dashboard |@pakistan|
|8 | COVID-19 Canada live dashboard |@canada|
|9 | India (COVID-19) Dashboard | @indiadash |
|10 | Italy COVID-19 dashboard |@italy|
|11 | Jamaica COVID-19 Dashboard |@jamaica|
|12 | GCI COVID-19 dashboard for Russia |@russia|
|13 | COVID-19 live situation analysis dashboard of Sri Lanka |@sl|
|14 | COVID 19 ZA South Africa Dashboard |@za|
|15 | COVID-19 dashboard for Germany |@rki|

Table 02 summarizes the data types that are most frequently shown in dashboards. As shown in Table 02, all dashboards which are considered in this paper represent the data related to COVID-19 confirmed cases, recovered cases, and deaths. There were 8 dashboards out of 15 dashboards that contained vaccination details.

**Table 02: Summary of data represent in the dashboards**


| Name of the Dashboard| Location (Represented) | Confirmed Cases| Recovered Cases| Deaths | Vaccination Details| Tests| Global Comparison|
|:------------:|:------------|:------------:|:------------:|:------------:| :------------:|:------------:|:------------:|  
| 1                     | Global | \checkmark        |   \checkmark       |\checkmark  | \checkmark             |   | \checkmark 
| 2                     | Global |\checkmark        |   \checkmark        |\checkmark  | \checkmark              |   | \checkmark 
| 3                     | Global  |   \checkmark        |\checkmark  | \checkmark              |   | \checkmark 
| 4                     | Belgium |\checkmark          |   \checkmark        |\checkmark  |                     |  |  
| 5                     | England |\checkmark          | \checkmark        |\checkmark  | \checkmark              |  |
| 6                     | New Zealand | \checkmark          |   \checkmark       |\checkmark |                     |  |\checkmark 
| 7                     | Pakistan | \checkmark         |  \checkmark        |\checkmark  |                     |\checkmark  |
| 8                     | Canada | \checkmark          |  \checkmark        |\checkmark  |                     |  | |
| 9                     | India | \checkmark         |   \checkmark        |\checkmark  | \checkmark              | | \checkmark 
| 10                    | Italy | \checkmark         |   \checkmark        |\checkmark  |                     |\checkmark  |
| 11                    | Jamaica | \checkmark        |   \checkmark        |\checkmark  | \checkmark            | | 
| 12                    | Russia |\checkmark         |  \checkmark       |\checkmark  |                     | | 
| 13                    | Sri Lanka |\checkmark          |   \checkmark       |\checkmark  |                     | \checkmark  | \checkmark 
| 14                    | South Africa |\checkmark        |   \checkmark        |\checkmark  | \checkmark              | \checkmark  |
| 15                    | German |\checkmark          |  \checkmark        |\checkmark  | \checkmark              | |


Table 03 summarizes the visualization methods used in the dashboards. In almost every dashboard, value boxes have been used to represent these total figures. Bar charts and line charts (trend lines) are most frequently used to visualize this data (confirmed cases, recovered cases, deaths, and vaccination details) with respect to time. A majority of dashboards presented data either daily or weekly. The mapping is used to track the spatial distribution of COVID-19 cases by country, province, regional etc. When visualizing the data by the map color code system, circles with respect to the size of the cases have been used to visualize the variation in size. The considerable number of dashboards has been used in doughnut-shaped pie charts to represent total COVID-19 confirmed cases, recovered cases, active cases, and deaths as a percentage. Also, region, gender, age group, and ethnicity can be identified as common breakdowns of COVID-19 cases. Data tables for representing case distribution by province/region have been added to some dashboards. Very few dashboards have been visualized in the COVID-19 test details. Only 6 dashboards have been compared to global situations. In addition, the fatality rate, incidence rate, ICU beds, stage of the patients, and hospitalized details have been contained in the several dashboards.\hfill\break


**Table 03: Summary of tools which are used for different purpose**


|Purpose | Bar chart | Line chart | Pie chart | Dot plot| Heat map| Mapping| Data table|
|:-------|:---------:|:----------:|:---------:|:--------:|:--------:|:-------:|:-------:|
| COVID-19 confirmed 
cases | \checkmark  | \checkmark  |  | \checkmark  |  | \checkmark  |\checkmark 
| COVID-19 deaths | \checkmark  | \checkmark  |  |  | | \checkmark  | \checkmark 
| COVID-19 recovered 
cases | \checkmark  | \checkmark  | | | | \checkmark  | \checkmark
| COVID-19 vaccination | | \checkmark  |  | | | \checkmark  | \checkmark
| COVID-19 test 
conducted | \checkmark  | \checkmark  | | | | |
| Clinical status | \checkmark  | | | | | | 
| Cases distribution by 
age  | \checkmark  | | \checkmark  | | |  |
| Cases distribution by 
gender | \checkmark  | | | | | |
| Cases distribution by area
(Province/state/region) | \checkmark  | \checkmark  |  | | \checkmark  | \checkmark  | \checkmark
| To compare the cases | | |  \checkmark  | | |  |  \checkmark 
| Global comparison |  \checkmark  |  \checkmark  | | | |  \checkmark  | \checkmark 



## 2.2 Comparison of Dashboards

Before developing a dashboard, it is necessary to think about which visualization tools & features that should be contained in the dashboards. What are the most suitable plots, how many panels in the dashboard, what data should be included, how to fit dashboard on a screen, colors & is it real time updated or not are the common things that should be considered before develop the dashboards. In table 02 has been compared these visualization tools & features under the following categories. 

  * Number of panels - How many panels which are included in the dashboard.
  * Visualization tools – what are the graphical representations of data which are contained in the dashboards. 
  * Fitted on a single screen – whether the dashboard fits on a single screen or not (users can see the whole dashboard on a single screen without adjusting through grid overlay or not).
  * Color theme – is there a unique color used for one data type in the whole dashboard (i.e.: one color scale for one data type everywhere on the dashboard). 
  * Dark background – background color of the dashboard is dark or light.
  * Data available – whether users can be downloaded/available the data set which has been visualized on the dashboard. 
  * Real time updated – whether the dashboard is updated daily/ specific time (live dashboard) or not.



**Table 04: Comparison of visualization tools & features of dashboard** 


| Name of the Dashboard | Number of panels|  Visualization tools | Fitted on a single screen | Color theme | Dark background | Data available | Real time updated|
|:-------: |:-------: |:-------:  |:-------:|:-------:   |:-------:  |:-------:   |:-------:  |
| 1                |  1   | Bar chart\hfill\break  Interactive map\hfill\break |\checkmark         |   \checkmark      |\checkmark | \checkmark   | \checkmark
| 2             | 4   | Line chart\hfill\break  Interactive map\hfill\break  Data table\hfill\break|         |   \checkmark       |    |     \checkmark        |\checkmark 
| 3         |2         |Line chart\hfill\break  Bar chart\hfill\break Interactive map\hfill\break Data table\hfill\break  | \checkmark         |   \checkmark       |\checkmark | \checkmark             |\checkmark
|4 | 1|Line chart\hfill\break Bar chart\hfill\break  Pie chart\hfill\break Interactive map\hfill\break |\checkmark |   | \checkmark |\checkmark| \checkmark
|5 | 1| Line chart\hfill\break Bar chart\hfill\break Data table\hfill\break |   | \checkmark |   | \checkmark | \checkmark
|6 | 5| Line chart\hfill\break Bar chart\hfill\break Dot plot\hfill\break  Interactive country map\hfill\break |   |   |   | \checkmark | \checkmark
|7 | 1|  Line chart\hfill\break Bar chart\hfill\break  Country map\hfill\break Data table\hfill\break |    | \checkmark  |    |    | \checkmark
|8 | 3| Line chart\hfill\break Bar chart\hfill\break Data table\hfill\break Interactive map\hfill\break |    |    | \checkmark |   | \checkmark
|9 |3 | Line chart\hfill\break Bar chart\hfill\break Doughnut shape pie chart\hfill\break Data table\hfill\break Interactive country map\hfill\break |  | \checkmark |  | \checkmark | \checkmark 
|10  | 2| Bar chart\hfill\break Doughnut shape pie chart\hfill\break Heat map\hfill\break Interactive country map\hfill\break |   |   |    |    | \checkmark
|11 | 1| Line chart\hfill\break Bar chart\hfill\break Doughnut shape pie chart\hfill\break Data table\hfill\break Interactive country map\hfill\break |  | \checkmark |   |   | \checkmark
|12 | 1| Line chart\hfill\break Bar chart\hfill\break  Interactive map\hfill\break |   | \checkmark | \checkmark |   | \checkmark
|13 | 1| Line chart\hfill\break Bar chart\hfill\break Doughnut shape pie chart\hfill\break |  |\checkmark |   |   | \checkmark
|14| 2| Line chart\hfill\break Bar chart\hfill\break  Interactive Country map\hfill\break |  | \checkmark|   | \checkmark | \checkmark
|15 | 1| Line chart\hfill\break Bar chart\hfill\break  Data table\hfill\break Interactive map\hfill\break | \checkmark| \checkmark| \checkmark|  | \checkmark


  


As shown in Table 4 almost each & every dashboard, line charts & bar charts have been used to visualize the data. Heat map & dot plot has been used only one dashboard. Only four dashboards have been fitted with a single screen. The majority of dashboards have used color theme on the whole dashboard. That is, dashboards have been applied different colors for different type of data (i.e. One specific color for confirmed cases, another color for deaths, etc.) in the whole dashboard. The data set & related links have available on some dashboards & users can download these data sets. There are 6 dashboards with dark background while others have been used light background. Last updated time & date of the latest available data  has been reported at the top or bottom of the first panel in the dashboard. Like, half of dashboards included all data in one panel.    



# Methodology {#method}

## Data

We obtained data from COVID-19 situation reports published by Epidemiology Unit, Ministry of Health Sri Lanka. We obtained data corresponds to number of death cases, number of hospitalized cases, number of recovered cases and COVID-19 vaccinated counts in Sri Lanka. The data are made available through an open-source R package covid19srilanka [@talagala]. 

## Design and development

R software was used for data cleaning and analysis. The flexdashboard [@flexdashboard] package was used to build the data visualization dashboard. The initial layout for the dashboard was prepared based on @rami. Data visualizations are generated using ggplot2 [@ggplot2] and plotly [@plotly] packages in R.  we used color-blind friendly colour palettes for the graphics. To represent qualitative data, a diverging colour palette was used, and to represent numeric variables, a sequential colour theme was used. Table 5 provides an overview of methods that have been used to visualize data.

**Table 5: Data visualization approaches used to visualize data**

| **Data**|**Type of graphics**| 
|:-------------------|:----------------|
|Daily COVID-19 confirmed          |Time series plots \hfill\break
|Daily COVID-19 recovered cases by time         |Time series plots \hfill\break
|Daily COVID-19 death cases by time         |Time series plots \hfill\break
|Total COVID-19 confirmed cases by time and wave         |Time series plots annotated with vertical lines to denote significant milestones \hfill\break
|Total COVID-19 death cases by time and wave         | Histogram \hfill\break
|Distribution of COVID-19 patients by districts        | Tree map, Choropleth maps, Dorling Cartogram, heatmaps \hfill\break
|Total vaccination by first dose and second dose        | Time series plot \hfill\break
|Total administrated does by vaccine name       | Stacked bar chart \hfill\break
|Total administrated does by vaccine name       | Stacked bar chart \hfill\break
|Total administrated does by vaccine name       | Stacked bar chart \hfill\break
|Comparison of cases with in Sri Lanka with Top 10 countries       | Cummulative cases by time, Log of cummulative cases by time, stacked bar chart \hfill\break
|Spread of COVID-19 around the world      | Choropleth maps \hfill\break





The source code to reprouduce the results are available in a public GitHub repository and can be access online via https://github.com/thiyangt/covid19srilanka




# Results {#results}


The "Sri Lanka COVID-19 Dashboard" provides an overview of the COVID-19 pandemic and administration of vaacine information in Sri Lanka. Figure 1 shows an screenshot of the dashboard. This dashboard has eight panels as listed in Table 6. The deployed dashboard is made accessible to public through https://thiyanga.netlify.app/post/covid19srilankadb/


```{r, echo=FALSE, fig.cap="Overview Panel: Screeshot of the Dashboard", out.width="80%", fig.align='center'}
knitr::include_graphics("images/dashboard.png")
```


\newpage 

**Table 6: Description of the panels**

| **Name of the Panel**|**Description of the Panel**| 
|:------|:----------------------------------------------|
|Overview          |Total count of COVID-19 confirmed, recovered, deaths, active cases & total vaccine doses administered.\hfill\break Provide an overview of daily COVID-19 confirmed, recovered & deaths by plots.\hfill\break|
|Cases by Wave| There are three tabs in this panel.\hfill\break  * Total COVID-19 confirmed cases - Cumulative count of COVID-19 confirmed cases with specific dates\hfill\break * COVID-19 Cases Distribution by Wave - Daily confirmed cases by wave\hfill\break * COVID-19 Deaths Distribution by Wave - Daily deaths by wave\hfill\break| 
|COVID-19 Patients Distribution | Provide an overview of confirmed cases district wise distribution. There are four tabs in this panel.\hfill\break * Total COVID-19 Patients Distribution in Sri Lanka - Total confirmed counts for each district is represented by tree map\hfill\break * Country Map - Total confirmed cases in each district represented by Sri Lanka country map\hfill\break * Distribution of Daily COVID-19 Patients for Last 30 Days - Visualize the daily confirmed cases distribution by districts in last 30 days\hfill\break * By Applying Min-Max Transformation - Visualize the details in the third tab by applying min-max transformation for each district\hfill\break|
|Vaccination Details | Provide an overview of COVID-19 vaccination in Sri Lanka. There are two tabs.\hfill\break * Total Vaccine Doses - Visualize the administered vaccine doses as first dose only & fully vaccinated\hfill\break * Total Administered Doses by Vaccine Name - Visualize the vaccination by vaccine names\hfill\break|
| Top 10 Countries| In this panel, compare the Sri Lanka confirmed & deaths with top 10 countries in the world (top 10 countries - The countries which have been reported highest number of confirmed cases as 31st of August 2021).\hfill\break There are two tabs.\hfill\break * Comparison of Cumulative Cases in Sri Lanka with Top 10 Countries - Compare the confirmed and deaths in Sri Lanka with top 10 countries by cumulative time series plots\hfill\break * Comparison of Log of Cumulative Cases in Sri Lanka with Top 10 Countries -  Compare the confirmed and deaths in Sri Lanka with top 10 countries by log cumulative time series plots\hfill\break (The data has been pulled from WHO)\hfill\break|
|Global Comparison | Compare the total confirmed & deaths in Sri lanka with top 10 countries in Global & Asia. There are two tabs.\hfill\break * Comparison of the sri Lanka with Top 10 Countries Reporting the Most COVID-19 Cases in the World - Compare the total confirmed & deaths in Sri Lanka with top 10 countries in the world & compare the case fatality ratios\hfill\break * Comparison of the sri Lanka with Top 10 Countries Reporting the Most COVID-19 Cases in the Asia - Compare the total confirmed & deaths in Sri Lanka with top 10 countries in the Asia & compare the case fatality ratios\hfill\break|
|Global Map| Visualize the distribution of confirmed, recovered & deaths in the world by world map.\hfill\break|
|About | This panel contains the details about the dashboard.|



```{r, comment=NA, echo=FALSE, message=FALSE, warning=FALSE, fig.cap="Distribution of COVID19 Cases by Districts Plotted on a Single Panel"}
library(covid19srilanka)
library(tidyverse)
library(patchwork)
data("district.wise.cases")
f1 <- ggplot(district.wise.cases, aes(
  x=Date, y=Count,  col=District)) + geom_line() + ggtitle("A") + theme(legend.position="bottom")

```

```{r, comment=NA, echo=FALSE, message=FALSE, warning=FALSE, fig.cap="Distribution of COVID19 Cases by Districts: (A) Plotted on a Single Panel, (B) Plotted on Separate Panels.", fig.height=12, fig.width=10}
library(covid19srilanka)
library(tidyverse)
data("district.wise.cases")
f2 <- ggplot(district.wise.cases, aes(
  x=Date, y=Count)) + geom_line() + 
  facet_wrap(vars(District), scale="free", ncol=5) + ggtitle("B")
f1/f2
```




```{r heat, echo=FALSE, comment=NA, message=FALSE, warning=FALSE}
library(viridis)
library(patchwork)
# Get District wise data 
District_Covid <- district.wise.cases
District_Covid <-District_Covid[order(as.Date(District_Covid$Date, format="%Y-%m-%d")), ]

# Get total count for each district
Last_day <- District_Covid %>%
  filter(Date == max(District_Covid$Date))


Covid <- Last_day %>%
  mutate(District = case_when(
    District == "Kurunagala" ~ "Kurunegala",
    TRUE ~ District
  ))

Covidnew <- Covid %>%
  mutate(parents = "Confirmed")


i <- 1:length(District_Covid$District)
District_Covid$daily <- District_Covid$Count[i+26] - District_Covid$Count[i]
District_Covid$Date <- as.Date(District_Covid$Date)
District_Covid <- head(District_Covid, -26)

District_Covid_new <- District_Covid %>%
  arrange(Count) %>%
  mutate(District = fct_inorder(factor(District, ordered = TRUE)))

p1 <- ggplot(District_Covid_new, aes(Date, District)) + 
           geom_tile(aes(fill = daily))+
           scale_fill_viridis(option = "magma")+ 
           scale_x_date(date_breaks = '1 week', date_labels = "%d-%b-%Y") + ggtitle("A")
```


```{r, echo=FALSE,fig.cap="(A) Global View of Distribution of COVID19 Cases by DIstricts, (B) Local View of Distribution of COVID19 Cases by Districts", fig.width=10, fig.height=10}

cov_District <- as.data.frame(District_Covid)

District <- c(District_Covid$District[1:26])
data <- cov_District

# Apply min-max transformation for each district separately
covid <- function(data, District){
  results <- list(1:26)
  for(i in 1: length(District)){
    x <- filter(data, District == District[i])
    j <- 1:(nrow(data)/26)
    y <- x$daily
    x$min_max <-(y[j] - min(y))/(max(y) - min(y))
    results[[i]] <- x
  }
  return(results)
}

Data <- covid(data, District)
District_data <- do.call(rbind, Data)

District_Covid_new_1 <- District_data %>%
  arrange(Count) %>%
  mutate(District = fct_inorder(factor(District, ordered = TRUE)))

p2 <- ggplot(District_Covid_new_1, aes(Date, District)) + geom_tile(aes(fill = min_max)) + scale_fill_viridis(option = "magma") + scale_x_date(date_breaks = '1 week', date_labels = "%d-%b-%Y") + ggtitle("B")

p1/p2
```




We now describe the novel visualization approaches we included in out dashboard. To effectively distribute the vaccine and to support situational awareness and inform policy makers decision making it is important to know the district-wise spread of COVID-19 cases.  We have daily COVID-19 data related to confirmed cases in all 25 districts in Sri Lanka. This structure generates a multiple time series collection. Visualizing these time series data is useful to identify similarities and dissimilarities between districts and their general trends. There are two approaches to visualizing these time series: (i) drawing individual time series plots for each district (as shown in Figure 2), and (ii) simultaneously plots all time series on a single panel (as shown in Figure 3). Plotting all time series simultaneously is also not possible due to overlapping time series and scale differences. Plotting separate panels for each district is not effective. The reason is that it is hard to compare across 25 different panels at once. In order to overcome these problems in multiple time series visualization,  we use heat maps ((@peng2008method)) to visualize global and local similarities and dissimilarities across districts. The associated results are shown in Figure 3. Here two heatmaps are used to show the global variations (Figure 3: A) and local variation (Figure 3: B) in the time series collection. Figure 3-A cell colours represent the actual counts of the COVID-19 confirmed cases. This is useful to get an idea about the differences in absolute values. Figure 3-B cell colours represent the normalized values created applying the min-max transformation. Min-max transformation is applied to each district time series by using the corresponding district minimum and maximum value of the time series. This helps us to get an idea about patterns within districts. For example, according to Figure 3A we can see Colombo, Gampaha and Kalutara districs COVID-19 cases are significantly higher than other districts. According to Figure 3B all districts show an increasing trend pattern as the right-hand side of the cells are lighter than the left-hand side cells in the heat map. Furthermore according to Figure 3B all districts reported high number of cases on  19, 24, 29 August, 2021. Figure 3B is useful for identifying these local outlying behaviours. As shown in Figure 4, we also use Choropleth map and Dorling cartogram to visualize spatial distribution of COVID-19 cases. The vaccination information are visualize through interactive time series plots and bar charts. A screenshot of associated panels are shown in Figure 5 and Figure 6. 
 



```{r, comment=NA, message=FALSE, warning=FALSE, fig.cap="Spatial DIstribution of COVID1-19 Cases by Districts"}

Last_day <- District_Covid %>%
  filter(Date == max(District_Covid$Date))

Covid <- Last_day %>%
  mutate(District = case_when(
    District == "Kurunagala" ~ "Kurunegala",
    TRUE ~ District
  ))

Covidnew <- Covid %>%
  mutate(parents = "Confirmed")

SL <- district
SL$DISTRICT <- str_to_title(SL$DISTRICT)
colnames(SL) <- c("geometry", "District", "status", "population")

Covid_SL <- left_join(SL, Covid, by = c("District"))

Ampara <- Covid%>%
  filter(District %in% c("Kalmunai","Ampara" ))
newcount <- Ampara$Count %>%
  sum()

Covid_SL <- Covid_SL %>%
  filter(!(District == "[unknown]")) %>%
  filter(!(District == "Kalmunai")) %>%
  mutate(Count = ifelse(District == "Ampara", newcount, Count))

m1 <- ggplot(Covid_SL) + geom_sf(aes(fill = Count, text = paste('District:', District)), show.legend = TRUE) + 
  scale_fill_viridis()+
  theme(axis.text.x = element_blank(), 
        axis.text.y = element_blank(),
        axis.ticks = element_blank(),
        rect = element_blank()) + ggtitle("A: Choropleth map")

Covid_SL <- Covid_SL[-c(1), ]
dorl <- cartogram_dorling(Covid_SL, weight = "population")%>%
  st_as_sf()

m2 <- ggplot(dorl)+
  geom_sf(data = Covid_SL)+
  geom_sf(aes(fill = Count, text = paste('District:', District)))+
   scale_fill_viridis()+
  theme(axis.text.x = element_blank(), 
        axis.text.y = element_blank(),
        axis.ticks = element_blank(),
        rect = element_blank()) + ggtitle("B: Dorling cartogram")

m1|m2

```



```{r, echo=FALSE, fig.cap="Time Series Plot of Distribution of First Dose and Second Dose", out.width="80%", fig.align='center'}
knitr::include_graphics("Images/d3.png")
```


```{r, echo=FALSE, fig.cap="Distribution of Vaccines by Different Types and Dose", out.width="80%", fig.align='center'}
knitr::include_graphics("Images/d2.png")
```



# Discussion and Further research {#conclusions}


Bar charts and line charts are the most frequently used tools for the visualization of total cases, daily cases and comparisons with respect to time. Some dashboards contained doughnut shape pie charts to summarize the total figures. In almost each and every dashboard, value boxes have been used to represent total figures. Some dashboards contained interactive maps & data tables to visualize the distribution of cases by country, province, region or state. All dashboards are daily updating real time dashboards. Gender, age groups and ethnicity can be identified as common breakdowns. The data sets & related links are available on most of the dashboards & can be downloaded. It can be seen that it is very easy, clear and user friendly to identify confirmed, recovered and deceased cases in dashboards which include one color theme for the whole dashboard. Dashboards with the dark background are more comfortable to the eyes than dashboards with light background & light colors. Also, it is better if the dashboard can be fitted on a single screen rather than adjusting through a grid overlay. 



# References


<div id="refs"></div>

\newpage

# Appendix: Overview of reviewed dashboard

Real time updated COVID-19 dashboard created by the John Hopkins University Center for Systems Science & Engineering (JHU CSSE) has included total confirmed cases & total deaths by country, province/region/state (not for all countries)[6]. Weekly & daily global confirmed cases, deaths & vaccine doses have been visualized using bar plots related to the date in the side panels. Also, an interactive world map has included in the dashboard to represent total confirmed cases, incidence rate, fatality ratio & vaccine doses administered by country & state of US. All the links related to the data sets has been included in the dashboard. In this dashboard red, white, green colors has been used to indicate confirmed cases, deaths & vaccine doses respectively. The dashboard has fitted on a single screen.

```{r, fig.cap="Johns Hopkins University COVID-19 Dashboard"}
knitr::include_graphics("Images/1.PNG")
```




Live updated “WHO COVID-19 dashboard” contained four panels. The interactive world
map in the dashboard has visualized the distribution of COVID-19 confirmed cases, deaths &
vaccination by country [15]. Line chart & bar charts have been used as visualization plots. Blue, red, green colors have been used to represent confirmed cases, deaths & vaccination respectively. The links related to the underlying data was available in the dashboard. The dashboard was not fitted on a single screen.

```{r, fig.cap="WHO COVID-19 Dashboard"}
knitr::include_graphics("Images/2.PNG")
```

The “COVID-19 surveillance dashboard” created by the University of Virginia in
collaboration with Bio complexity Institute has included interactive world map with a time slide to visualize the confirmed cases, recovered cases, deaths, active cases & vaccine details [7]. Line charts, bar charts & data tables have been visualized in the dashboard. Red, blue, green & yellow colors have been used to identify confirmed, deceased, recovered & active cases respectively. The data behind the dashboard also available on the dashboard & can be downloaded. The dashboard has fitted on a single screen.

```{r, fig.cap="COVID-19 Surveillance Dashboard"}
knitr::include_graphics("Images/3.PNG")
```



Corona cases (COVID-19) per municipality in Belgium dashboard has included interactive
map for distribution of total confirmed cases per municipality, bar chart for number of cases per province, line charts for number of cases per day by region & municipality, dodge bar chart for deaths per region, per age & pie chart for deaths per age as visualization methods[3]. Also it included several value boxes for total cases, total deaths & hospital situations. There was no specific color theme used in this dashboard. This dashboard also fitted on a single screen.

```{r, fig.cap="Corona cases per Municipality in Belgium Dashboard"}
knitr::include_graphics("Images/4.PNG")
```




The COVID-19 dashboard for England created by NHS providers included daily totals, daily changes & weekly changes in new cases, hospital admission, patients in hospital, and patients
in ICU beds, deaths & vaccinations in England as counts [2]. Bar plots for daily new cases, hospital admissions & deaths for last 30 days have been added in this dashboard. Also it has included data table for total count, daily changes (as increase or decrease), weekly changes (as increase or decrease) of new cases & hospital admission by region. It can be seen that, three different colors have been used in bar plot as orange for new cases, green for hospital admissions & red for deaths. These plots were not interactive plots & there was only one panel. The dashboard was not fitted on a single screen.

```{r, fig.cap="COVID-19 dashboard for England"}
knitr::include_graphics("Images/5.PNG")
```



The Environmental Science and Research Institute COVID-19 dashboard for New Zealand (was developed & is maintained in collaboration with Epi-interactive Ltd) contained five panels
as overview, outbreak, source, international & ESR reports [10]. In this real time updated dashboard, they have included value boxes for total confirmed cases, recovered cases, deaths & interactive map has been added for distribution of confirmed & probable cases as incidence & count. Also they have included bar charts for confirmed cases distribution by gender, age group, & line charts for confirmed & deaths as daily & cumulative. The dashboard has not fitted on a single screen.

```{r, fig.cap="New Zealand COVID-19 Dashboard"}
knitr::include_graphics("Images/6.PNG")
```




Pakistan’s official COVID-19 dashboard is a real time updated dashboard with one panel. This dashboard contains value boxes for total confirmed cases, active cases, deaths, recovered
cases by country. Province wise cases have been represented by map & data table [11]. Line charts & bar charts have been added to visualize the distribution of cases related to time & province. In the value boxes blue, orange, pink & green colors have been applied for confirmed cases, active cases, deaths & recoveries respectively, but there was no specific color theme used when plotting the graphs. The dashboard cannot be seen on a single screen without grid overlay.

```{r, fig.cap="COVID-19 Dashboard for Pakistan"}
knitr::include_graphics("Images/7.PNG")
```


COVID-19 Canada live dashboard has been developed with three panels for provincial data, hospital resources & projections [14]. This dashboard contained interactive map for represented total reported cases & deaths by province. Data tables, line charts, bar charts were the most frequently used visualization types of this dashboard. More details were presented on this dashboard by province like ventilator counts, hospital beds per 100 residents, resource capacity based on critical case rate, effect of social distance, forecast of deaths & cases. There was no specific color theme applied for plotting the graphs. The dashboard also was not fitted on a single screen.

```{r, fig.cap="COVID-19 in Canada dashboard"}
knitr::include_graphics("Images/8.PNG")
```


“Zoho analytics COVID-19 live dashboard” for India contained three panels as insight by state, trend analysis & vaccination [1]. Interactive country map has been used to visualize the distribution of confirmed cases, active cases, deaths, recovered cases & vaccination by states in India. Line charts, bar charts & doughnut shape pie charts have been used as other visualization tools. Also this dashboard contained data table for overview of COVID-19 in India. This dashboard also was not fitted on a single screen.

```{r, fig.cap="India COVID-19 Dashboard"}
knitr::include_graphics("Images/9.PNG")
```



Italy COVID-19 dashboard created by the COVID-19 task force of the department of infection diseases and the IT service Istituto Superiore Sanita, contained interactive map, bar charts, doughnut shape pie charts & heat maps as visualization tools [4]. It provides data related to COVID-19 cases, cases distribution by age, clinical status, and weekly number of cases notified in Italy by region/province. This dashboard also was not fitted on a single screen.

```{r, fig.cap="Italy COVID-19 Dashboard"}
knitr::include_graphics("Images/10.PNG")
```

Live COVID-19 dashboard developed & contributed by an amber innovations for the government of Jamaica has added interactive country map & data table to represent the COVID-
19 cases by parish [9]. Line charts & bar charts have been added to the dashboard for cumulative & daily COVID-19 cases. Yellow, green & red colors have been used to represent confirmed, recovered & deaths respectively. Doughnut shape pie chart has been added to represent the distribution of recovered, confirmed & deaths by age group. This dashboard was not fitted on a single screen.

```{r, fig.cap="Jamaica COVID-19 Dashboard"}
knitr::include_graphics("Images/11.PNG")
```



The GCI COVID-19 dashboard for Russia includes an interactive map, bar charts & line charts to visualize the COVID-19 data [13]. Yellow, green, red & blue colors have been added to
identify the confirmed, recovered, deaths & active case respectively in plotting the charts.

```{r, fig.cap="GCI COVID-19 Dashboard for Russia"}
knitr::include_graphics("Images/12.PNG")
```


COVID-19 live situation analysis dashboard of Sri Lanka contains total & daily figures in Sri Lanka as counts [5]. Total cases & active cases have been visualized by using a line chart. Bar charts have been used to summarize the daily confirmed cases and recovered cases. As well fatality rate, recovery rate & daily investigations using PCR tests & rapid antigen tests have been compared by using the bar charts. Doughnut shape pie chart has been used to summarize the total cases. Blue, green & red colors have been applied to active, recovered & deaths respectively. This dashboard was also not fitted on a single screen.

```{r, fig.cap="COVID-19 Live Situational Analysis Dashboard of Sri Lanka"}
knitr::include_graphics("Images/13.PNG")
```




COVID-19 live situation analysis dashboard of Sri Lanka contains total & daily figures in Sri Lanka as counts [5]. Total cases & active cases have been visualized by using a line chart. Bar charts have been used to summarize the daily confirmed cases and recovered cases. As well fatality rate, recovery rate & daily investigations using PCR tests & rapid antigen tests have been compared by using the bar charts. Doughnut shape pie chart has been used to summarize the total cases. Blue, green & red colors have been applied to active, recovered & deaths respectively. This dashboard was also not fitted on a single screen.

```{r, fig.cap="COVID 19 ZA South Africa Dashboard"}
knitr::include_graphics("Images/14.PNG")
```


Robert Koch-Institute COVID-19 dashboard for German contains interactive map, line charts & bar charts as visualization tools of COVID-19 data [12]. The dashboard has been fitted
on a single screen. This dashboard format is similar to the John Hopkins dashboard.

```{r, fig.cap="Robert Koch-Institute COVID-19 dashboard for German"}
knitr::include_graphics("Images/15.PNG")
```
